# 掌上生活



## 一面

------

>一面解答：   
>
>1. 16*32=533  在什么进制下合适   
>
>首先就是需要了解在这里进制的问题呗
>
>(x+6)*(3x+2)=(5x^2 + 3x +3)  解决这个方程组
>
>----
>
>4. **1000个元素插入HashMap 容量初始化为多大合适 **
>
>首先在这列就是需要我们了解HashMap扩容条件
>
>首先：当元素个数 `size>capacity*loadFactor`  这里边容量`capacity`就是数组长度呢  `loadFactor`负载因子 0.75   `size`元素个数
>
>其次：第一次插入先扩容后插入，后续插入是先插入后扩容。 其次当发生hash冲突的时候，链表元素大于8个并且数组长度小于64扩容。
>
>所以：
>
>`1000>cap*0.75` ----->`cap=2024`
>
>-----
>
>6. **sql查询**
>
>这里边就是需要我们对sql的操作顺序有一定的了解呗  
>
>`from->on->join(各种join)->where->group by->聚合函数->having->select->distinct->union->order by->limit`
>
>
>
>答案：`SELECT name , sum(num)as sal FROM `salary` where time <'2022-01-31 10:26:05' and time >'2022-01-01 10:20:05'  group by name order by sum(num) desc limit 0,1`
>
>先通过`name`分组  分组之后在经过`sum(num)`排序 --->`select`--->`limit(N,M) 起始位置N到M条记录 其中N重0开始  在这里哈呢 `
>
>------
>
>算法题：
>
>类似于Leetocde 缺失的第一个整数
>
>第一次遍历进行交换的时候 
>
>```java
>    //这里边就是给的面试题就是 99个数字 无序且在1-100之间  问找到缺失的那个数字
>    public static int findLossNum(int[] nums) {
>        //两遍for循环进行遍历
>        int len = nums.length;
>        for (int i = 0; i < len; i++) {
>            while (nums[i] <= len && nums[i] != i + 1) {   //TODO nums[i]<=len 在这里就是点睛之笔
>                swap(nums, i, nums[i] - 1);
>            }
>        }
>        System.out.println(Arrays.toString(nums));
>        for (int i = 0; i < len; i++) {
>            if (nums[i] != i + 1) {
>                return i + 1;
>            }
>        }
>        return len;
>    }
>    public static void swap(int[] nums, int i, int j) {
>        int temp = nums[i];
>        nums[i] = nums[j];
>        nums[j] = temp;
>    }
>
>    public static void main(String[] args) {
>        int[] nums = {1, 3, 4};
>        System.out.println(findLossNum(nums));
>    }
>```



# 字节后端

## 一面

>Java:
>
>1. 垃圾回收   
>2. jvm调优
>3. 为什么选择G1垃圾回收器  有什么特点  垃圾回收的时候如何工作的 假如在回收过程中 对象变成可达了呢
>
>项目：
>
>1. 简介
>2. 困难
>3. 挑战
>
>Kafka:
>
>1. kafka模型
>2. 如何发送一条数据 流程是什么
>3. 消费者只能消费一个分区么
>
>----
>
>Mysql:
>
>1. 跟 postgrel区别
>2. 为什么选择B+树
>3. 事务 隔离级别--->**mysql默认隔离级别**   不可重复度在生产中可能会导致什么问题
>
>----
>
>算法：无重复最长字符子串



## 二面

>项目：
>
>1. 遇到困难点 怎么解决 如果解决不了怎么办   
>2. 遇到困难点是如何进行排查的
>
>---
>
>Java:
>
>1. 垃圾回收
>2. jvm调优
>
>---
>
>算法：
>
>用两个栈实现队列：
>
>1. 基础  单线程
>2. 多线程实现  push 队列慢等待  pop 队列空阻塞
>3. `synchronized `实现  面试官说锁粒度太大  再次实现
>4. `lock .Contition` 有状态的锁   20分钟搞定
>
>----
>
>redis:
>
>1. `zset`如何实现  什么数据结构  
>2. 如何修改配置文件
>3. 延迟队列如何做  **轮询秒数决定**
>4. 判断延迟队列的性能指标    稳定性、可靠性、高并发、吞吐量。





## 三面

>奇安信 实习项目：
>
>----
>
>flink:
>
>技术架构层面  JobMannager TaskMagger 算子操作
>
>Window  滑动窗口机制详解
>
>----
>
>Redis:
>
>1. list作为队列  假如客户端连接（因为网络抖动超时 pop）  pop一条数据（pop命令不是原子性）  redis里边这条数据还是否存在 如果不存在怎么保持一致性、是怎么做队列的。
>
>---
>
>场景提：
>
>1. 10个G的数字文件 只有2G内存  找出top100重复的数字
>2. 1000万级别的QPS 如何统计抖音点赞功能（过年期间发红发 高流量的基础上） flink+kafka+redis
>3. 基于点赞功能  redis瓶颈在哪里  （单线程、 IO、 网速）
>
>-----
>
>算法：
>
>```java
>1->2-3->4->5->6->7
>2->1-4>3->6->5->7    链表数字俩俩叫唤
>```









# ==----------------------------------------------------------------------TOP100==



# 10G文件，2G内存空间，寻找重复top100

>海量电话的处理topk处理（hash表+堆），如果数据量大hashmap存不到，位图+分治具体实现不知道  在这里就是如何实现呗
>
>

# 10亿个数字，如何查找缺失数字













# ==----------------------------------------------------------------------设计题==



# lru++ttl

>要求 如何在O(1)时间复杂度完成删除操作
>
>









# redis中pop命令是原子性么

>如果不是原子性：客户端连接超时 队列里边数据是否存在。 如果存在这不是导致重复消费了么
>
>
>
>其实 redis pop命令在这里就是原子性呗    原子性这个命令就是一定就是要记住了呗  







# redis 延迟队列





# 定时任务`cron` 如何来实现

> 答：用消息队列 + 一个表示时间的字段 如果不用消息队列，怎么做？ 答：用一个双向[链表]()，每个结点有一个下一次执行的时间字段，执行完成后更新时间，插入到双向[链表]()中，维持[链表]()结点下一次执行时间是递增的，[链表]()不能随机访问，所以每次插入需要O(N)的时间复杂度， 面试官没理解我的意思追问了几遍 问时间复杂度能不能优化？ 我一开始没理解这个提问，回答可以用协程 + WaitGroup实现， 后来明白了意思，答：用小根堆，每次取堆顶的任务执行，执行完增加一个单位时间间隔再放回堆中 ，这样时间复杂度是O(logN) 
>
>





# 字节三面 1000万QPS 抖音点赞 设计方案







# 数据库-> 聊天系统字段设计



# 设计一个登录功能



# 某个服务调用压力大，设计一个服务实现限流、缓冲。





# ==------------------------------------------------------------------------智力题==

# 8个长一样的球，最少用天平称几次能找到这个重的球？

>一共需要两次就是可以了呢。
>
>首先取出6个： 如果一样重那么就是在剩余的两个进行称重就是可以
>
>如果有一边重： 那么就是随机抽取两个 如果一样重就是剩余的那个 如果不一样重那就是重的那个就是

# 凑出4L的水  

>题目描述：  在这里就是凑出4L的水 我们就是有 5L和7L的桶
>
>1. 首先把7升的装满  在装进5升的水 剩余2L  之后把5升水倒掉  再把剩余的两L





# 疯子占座 求概率问题



# 内存系统100%怎么解决







# 场景提

>- 2G内存怎么存10亿的10位QQ号  字典树拉跨时间复杂度和空间复杂度都很高  可以采用布隆过滤器 bitmap 多用几个hash函数
>- 10000 亿条淘宝订单,每条订单当中包含了一个交易流水,流水里面有商品的 ID,有购买数量,同一个商品在这个订单会出现多次,现在要统计销量最好的 10 件商品.
>- 讲一个安全工具的工作原理
>- 某个服务调用压力大，设计一个服务实现限流、缓冲。
>- 具体的乐观锁悲观锁的实现场景
>- 内存系统100%怎么解决
>- 线上一个服务的启动特别慢，你怎么样排查
>- [海量数据](https://www.nowcoder.com/jump/super-jump/word?word=海量数据)取前 5.
>- 场景题：海量电话的处理topk处理（hash表+堆），如果数据量大hashmap存不到，位图+分治具体实现不知道
>- 怎么样实现一个高并发的 整形 递增 数字分发器（说了多线程，时间戳，都不正确，面试官也没有提示，气氛很尴尬，8分钟）
>- 如果起十个线程收集数据，其中一个卡住了咋办
>- 问[项目]():秒杀 数据丢失怎么处理 宕机怎么处理。我提了[redis]()增减的原子性+rocketmq事物+秒杀完之后通知openresty直接拦截请求进行服务降级,中途问了几个问题，反正也和数据丢失有关,我回答我的数据不丢失的前提只保证不超卖,然后反正围绕着[redis]()原子性操作和rocketmq的事物消息答出去了,答完面试官没追问了
>- .一条消息写mysql的全流程 这个我感觉我回答的和网上有点偏差,下面是我的答案:消息来的时候,先写redo log 和 undo log,redo log 进入prepare阶段,然后写binlog,写binlog之后会把binlog交给dump thread线程，然后dump thread线程会把binlog同步给从节点的一个线程，然后这个线程会把主节点发过来的消息写到relay log,然后从节点的另外一个线程把relay log写到从库里,然后回到主流程就是binlog写完就commit redo log
>- 其他微服务上下线，dubbo是怎么感知到的   
>
> 
>





# ==------------------------------------------------自我介绍与项目==

>- **梳理自己的经历,挖掘出自己的亮点 - 知己**
>- **分析公司职位需求，了解企业文化 - 知彼**
>- **做出挑选并重组，获得一份充满策略的自我介绍**
>
>您好面试官，我叫李冬辉，来自东北大学信息科学与工程学院，研究生期间主要研究方向是智能优化与数据解析方面。也是因为个人爱好以及所里项目需要，跟随自己的导师做了一个关于湛江原料厂的项目，是关于csharp winform平台做的一个料场推荐项目，也是自己的毕设课题。6月份到10月份期间在北极 华为 cloudBu 运筹优化团队 做了港口后端系统的开发，其中我主要负责泊位模块，主要功能就是在界面上展示，泊位月计划、周计划、泊位三日计划。其中主要以java中springBoot为基础的java后端的web系统。  后续 11月中旬至今 在沈阳奇安信 工业互联网安全事业部 进行实习， 主要是做新疆油田项目中的告警分类处理模块。其中技术点也是以java为基础的springboot项目。 目前就是这样面试官。 ，

# 华为项目

>天津港港口项目。主要就是负责泊位后端模块。采用的技术点就是springboot + mybatis 
>
>项目主要有四个模块：泊位模块，CWP安桥模块、集卡模块、堆场模块：

## 项目背景

>**项目背景：**天津港是国内第七大港口，每天有上千万的作业吞吐量。 集装箱船到达港口码头，由安桥进行卸载，安桥是岸边起重机，集装箱被卸载后分配到内集卡上，并由内集卡运送至相应的堆场上。之后由堆取料机进行堆放，并由外部集卡进入港口取走集装箱：
>
>项目里边一共有四个模块：泊位模块，CWP安桥模块、集卡模块、堆场模块：
>
>**泊位计划模块要干什么**：是根据船舶到港信息和泊位、安桥、堆场等港口信息指定的船舶到港计划，目标在于最小船舶整体在泊时长，最小化船舶停靠位置与对应堆场的距离，进而提高泊位利用率、在泊船时效等关键指标。
>
>**泊位模块要解决什么**：主要就是用springboot+mybatis技术栈的一个web程序，主要就是在界面是显示泊位月计划、周计划、泊位三日滚动计划、以及泊位昼夜计划（主要展示信息就是靠泊方向，海岸线具体停泊位置、船期信息、以及可用的安桥数量）好提供给安桥作业计划，后续也要增加堆场模块

>**描述：**以卸载为例，集装箱船到达港口码头，被分配到指定泊位（港区内能停靠船舶的位置。一般分为连续泊位和离散泊位，离散为按照离散块区停靠，连续为任意位置停靠）。岸桥移动到船舶相应位置，对集装箱进行卸载（即岸边集装箱起重机，一般安装在港口码头岸边，是专门用于集装箱码头对集装箱船进行装卸作业的专业设备。 岸桥单体价值较高，是港口物流场景中的核心作业资源，为船舶分配的岸桥数量、作业时长将直接决定船舶的在泊时长，因此在泊位计划中，岸桥分配阶段占十分重要的位置）。被卸载的集装箱被放置在内部集卡上，并由内部集卡运输至堆场相应区域卸载，由场桥堆放到指定位置。最后由外部集卡进入港口堆场取走相应集装箱。（堆场是指在集装箱码头内，用于交接和保管集装箱的场所。 在船舶靠泊前3~10天，港口人员会根据船期预报和船期确报信息制定对应的集港场地和疏运场地，最终在船舶靠泊后使用岸桥、集卡、场桥等机械在船舶和堆场上分别进行集装箱装卸操作）
>
>泊位计划是港口场景中，针对泊位、岸桥核心资源分配的问题。该问题讨论如何为船舶合理分配泊位资源以及相应的岸桥作业。根据船舶到港信息和泊位、岸桥、堆场等港口信息制定的船舶到港计划，目标在于**最小化船舶逾期、船舶整体在泊时长，最小化船舶停靠位置与对应堆场的距离**，进而提高泊位利用率、船舶直靠率和在泊船时效率等关键指标。因月泊位计划大部分船舶信息未获得，实际指导意义较小，本项目考虑三日泊位计划作为输出。
>
>**职责：针对泊位三日计划，设计并利用开发集装箱港口船舶泊位分配算法。该算法核心两阶段启发式算法，基于贪婪算法的初始解启发式，以及基于邻域搜索的改进启发式。 第一阶段，首先按照优先级关系，将所有船舶排序，然后按照优先级顺序，基于贪婪算法的启发式方法，依次为每个船舶安排最佳的靠泊方案和岸桥计划； 第二阶段，进行邻域交换寻找更优解。一方面改变服务船舶的岸桥分配从而改变船舶在港时间，另一方面选择靠泊时间有耦合的船舶集合进行船舶位置及时间上的交换和移动，搜索更好的近优解。最终可在初始解基础上缩短30%的整体停泊时间。最终算法结果与人工分配相比可提高5%的泊位利用率。同时我也对问题进行了数学建模，并且调用了求解器进行求解，与启发式算法进行对比，得到启发式算法在较短时间内可以获得更优的解的结论。**  船舶、安桥、距离、时间 解的结构是千万级别的 可以改变领域结构更改一种搜索策略可能会得到一个更好的解。 一共就是存在8个安桥数量。 
>
>优先级关系指的是我们的初始策略： 
>
>1. 船舶先来先服务
>2. 制定泊位计划时，需要考虑船舶本身的优先级（存在先外贸后内贸 先重点后一般 先远洋后近的洋的规则）
>
>**项目难点：**首先是属于一个新问题。以往的泊位分配方面的研究，在考虑泊位分配和岸桥调度的集成问题时，一方面大多数采用元启发式算法计算泊位分配以及岸桥数量分配，岸桥方面只考虑了数量上的分配，并没有考虑岸桥的作用范围的，但该项目实际场景中，岸桥的作业范围受到每个岸桥电缆线长度的限制，存在各自的移动范围限制。在没有考虑该限制的情况下，为船舶分配的岸桥可以跨区域运作，使得其解的质量相对较好，以及求解难度相对较低。相比之下，此问题的解更贴近实际情况，而且求解难度更高。我对比了考虑岸桥约束和没有岸桥约束的求解结果，考虑岸桥的情况下，求解时间会增加数十倍，大规模下达到百倍。并且，泊位颗粒度精确到米，计算时间精确到小时，20艘船，11个岸桥作业，三日计划，岸线长1100米的实际规模下，变量数已经达到了千万级，约束达到百万级。每当收到新的船报信息或船舶、岸桥作业状态更新，就需要以秒级速度进行计算。总计算量大，搜索空间复杂。
>
>---
>
>**界面展示信息**
>
>输入信息  
>
>船舶相关：船舶到港时间、装卸载箱量、船长、堆场分配信息
>
>安桥相关：岸桥服务范围、安桥工作状态（是否维修）
>
>其他信息：泊位堆场基本信息、潮汐信息、在泊船舶状态。
>
>**输出信息：**
>
>船舶的停靠时间和位置
>
>安桥分配及其作业安排



## 项目难点

>泊位计划难点：
>
>所计算泊位为连续泊位，颗粒精确到米，计算停泊时间颗粒度为分钟级别，每次收到新船报信息或者船舶、岸桥、作业状态更新既要以分钟级别速度进行重新计算，总的计算量大、搜索空间复杂。
>
>算法核心两阶段启发式算法，基于贪婪算法的处世界启发式，以及基于领域搜索的改进启发式。
>
>第一阶段：首先按照优先级别关系，讲所有船舶排序，然后按照优先级顺序，基于贪婪算法的启发式方法，以此为每个船舶安排最佳的停靠方案和安桥计划
>
>第二阶段：将整个展望其进行合理分块。合理选择靠泊时间以及船舶位置上及时间上的交换和移动。搜索更好的近似解

>难点主要就是在安桥作业计划这里：有非常多的约束在这里哈呢
>
>1. 固定顺序约束：所有安桥共用同一轨道，因此安桥书序固定，不可交叉跨越作业。
>2. 安桥数量约束：各时间段可用安桥数量有限
>3. 安全距离约束：同时作业的两个安桥存在安全距离限制。
>4. 卸船作业约束：卸船顺序从船尾到船头，装船顺序重船头到船尾
>5. 移动范围约束：每台安桥由于线缆长度限制，仅可在一定范围内作业
>
>安桥作业和实际情况复杂，需要考虑的约束众多。算法纪要适用于各类船型、任务分布、和实际约束，又要兼顾预计划和实时滚动更新，
>
>算法

>**JNR**框架的使用：
>
>1. C++算法先编译之后生成二进制文件。
>2. 之后我在`springboot` 当中配置一个 Jnr的配置文件  加载c++二进制 的服务器路径

---



>两种框架进行比较。
>
>1. `JNR`在Java底层当中 是由于ASM字节码直接生成实现类，去除了每次调用本地方法是额外的动态代理逻辑，性能较高。
>2. `JNI` JDK自带的，不需要引入额外依赖，性能最好。 但是要求我们自己需要精通Java和c++ 开发代码量比较大，需要自己写胶水代码。
>3. `JNA`:底层代码使用动态代理的模式 实现C++算法库对象的创建，不需要编写额外的胶水代码。性能比较差。



-------

>bug描述：
>
>1. C++算法代码 无 try catch 报错 导致Java程序停止运行。
>2. 浮点数四舍五入，原本应该向上取整，导致Java段层序报错
>3. 单船阶段、实时作业阶段， 算法数钩数列表异常。    跟算法人员进行比对，整改
>4. 岸桥作业区域分配算法执行报错    
>5. 后端 船舱数据处理异常。

# 湛江原料厂项目总结

## 背景

>背景：钢铁厂所需求矿石、煤炭等原料大多由轮船运至码头，在经过相对应的皮带系统运输到料场中。在以往的排船料址决策中，主要由人工完成,但是人工完成是根据以往经验来推导，考虑因素较少，容易造成堆料和取料冲突，容易造成的货船滞期、工厂生产滞期 造成不必要的物流成本的浪费以及滞期费用。
>
>主要负责：料址推荐逻辑整理，编写料址推荐算法中的算法模块; 针对实际生产中的需要的数据，通过和数据库相连接在系统中显示排船方案和料址推荐方案供人工来选择；使用 C#，Winform界面编程完成系统的构建，重构、可视化等工作。



## 项目难点

>#### 算法
>
>因为我是编写料址推荐算法方面，
>
>在逻辑方面：轮船到码头卸货经过皮带系统运输到料场当中 而堆料这里边有很多逻辑问题:就是原料不能分堆、原料不能混合堆放，两种原料之间必须有空位距离、限制高度、而且经常使用的原料就是必须靠经工厂附近等等，有非常多的约束限制。
>
>在算法设计方面
>
>- 在时间方面：决策一段时间内对原料在原料厂进行堆区
>
>- 在空间方面：原料经过船舶卸货要堆放在原料厂某一个空闲位置
>
>时间方面纪要考虑堆料的空间是否有空位 也要考虑在未来时间内取料是否有影响
>
>所以在时间和空间上存在两个维度问题    所以设计逻辑上非常复杂  
>
>**算法方面是一种基于树搜索的动态规划算法。**   
>
>-------------
>
>假如这里边有三条船，有五个空位。但是适合第一条船在空间上有三个空位，再第一条船的基础上选择1号空位进行堆放，这期间因为船要来的几百万吨，可能需要堆放三四天的时间，我们就是还需要考虑料位的空位空间状态布局时怎么样的，以及原料厂用料的情况，可能就是产生新的空位，所以就是一种完全的基于动态演变过程。第二条船有几种空位的位置堆放，第三条船中的原料再根据第一条船和第二条船的空位堆放重而推导出该条船有几种堆放位置。  重新推导第一条船对2号位置堆放，第二条船，第三条船有几种堆放位置，重而演变到一种树状的结构。 重而决出出有多少种方案 重而再界面显示供工作人员来选择 很像是动态规划算法 先对小问题进行求解再变大规模再变大。 算法方面是一种基于树搜索的动态规划算法。   
>
>而且当时算法设计的非常巧妙 利用了`c#`里边的字典数据结构 `key`存放数组[几号船，船是否到港，有几种堆料方案]  value <infromation>料堆的信息
>
>
>
>#### 项目重构
>
>1. 由于项目是一步一步完成的，我们就是对面企业提出的要求进行编程，每个人负责的模块不同导致整体的架构就是很乱，就是来一条船，我要写一个船的代码逻辑，来一个船我要写一个船的代码逻辑，就是代码冗余的非常厉害，最后就是企业方面再提出新要求都不敢再进行改动了，导致牵一发而动全身。
>
>2. 正好就是我在研一下因疫情原因，湛江原料厂企业方面没有提出什么的新的要求，老师就是让我们进行系统重构，因为我们是`c# winform`平台，一开始想转用`wpf`平台采用`mvvm`的架构模式，就是视图、模型、视图模型，这种架构模式。 在一开始就是遇到了困难，我们就是需要在系统启动的时候我把原料厂的分布图根据数据库的信息要在界面当中展示出来，如果后续进行取料和堆料料场图也能够有动态的变化，就是需要我们对数据和视图进行双向绑定。
>
>3. 在这里就是困扰了我们好长时间，因为国内的有关于`wpf`资料太少了，我们就是一遍使用vs自带的文档库和国外的网站进行查阅来找资料。后续这一步问题虽然解决了，但是慕然回首发现此时系统比原来更加复杂，虽然分层体系做的很好了，但是里边的语言逻辑是很难让后续入手这个项目的师兄弟去做。
>
>4. 所以后来经过商量重回`winform`平台，在这里我就是像老师提出了我的意见，采用`java`的`web`设计思想：实体类就是我的原料数据以及料场数据，dao层我们就是负责这个操作数据层也就是正常的sql语句，`service`层就是我们要处理数据的逻辑，之后就是把师兄们和我自己的代码都梳理一遍，分这三层架构来重构了一下系统，重新梳理了一遍逻辑，将共同逻辑抽离出来，同时减少`if else`条件分支,采用单例模式将文件和信息封装到一个对象里边。使系统看起来更加清晰明了，之后就是再来一条船，调用相同逻辑的代码，再把过程展现出来就可以了。后续再添加新的要求的时候也明了。
>
>5. 这个系统就是在去年八月份就是已经投入工厂实践当中，今年九月份可能会再次启动，会提出新的模块。



## 相关约束

>1. **湛江原料场要按照其存放原料不同而进行严格分类**，原料在料场内按照种类分类存放，每一类料场只能存储一类特定原料。
>2. 料场堆放存贮：料场配备有多种作业设备，能够满足对所存储物料的日常维护和管理；
>3. 存储状态：允许新料在堆放之后被取，也允许料堆被取净之后再堆；
>4. **原料成分控制严格，不允许存放过程中混料情况的出现，以免因无法预测大堆成分**
>5. 编制配置计划是需要考虑到堆取料机作业平衡性要求。
>6. **两个堆取料机在作业时保持一定的安全距离；**
>7. **每个取料作业不可中断，只能由一个堆取料机在一个料堆上全部取完，且只能从料堆的最左端开始取。每个原料的卸料及堆料作业可中断，并且同种原料的堆料允许不同堆取料机交替；**
>8. 假设待堆料料量是确定的，也不需要在求解过程中决策是否分堆，如果现实情况中需要分堆，那就将这种原料当做两种原料处理。
>9. 原料需靠近需求集中的地方，方便原料运输。





## 团队合作方面

>1. 这个就是在湛江原料厂当中有所体现。虽然以前学过编程，也做过点小东西，基础还算可以。但是刚接手这个湛江原料厂的项目确实是给我带来了很大困扰，首先我熟悉的语言是java，而这个项目是c#，还有前端节面面板，老师给我布置的任务，都让我有点无重下手的感觉。
>2. 然后开始查阅资料学学c#，再遇到不会的问题，找我自己的师兄来解答，同时他在我读研的道路上给了我很大帮助，每当我迷茫时给我指明了方向，所以我也是很感谢我这位师兄。 如果是项目上遇到难点，我们会不定期的腾讯视频开会，给我讲讲逻辑处理，让我更快的融入这个团队。
>3. 同时我们每周三有项目组会，每周六有科学问题组会。在这期间大家也是在一起交流，说出自己的困难点，以及后续的解决方案，提出新要求又需要怎么做，都给我带来了很大帮助。
>4. 经过差不多半个月，我感觉我这里已经能足够上手了，这时候也是减少了师兄们的压力，因为在那时候他们主要就是为了找工作，刷面试题。重担就是交给我们研一的手上，再遇到问题的时候，自己能够查阅解决的问题自己努力解决，实在不会了跟师兄语音交流寻找解决问题的方案。在重大决策上边跟老师讨论。 老师也是非常支持我，给与了我很大鼓励。我认为我很幸运遇到这个项目团队，让我成长了许多。



# 奇安信实习项目

>就是在这里进行一下简单介绍被  
>
>首先来到这个公司的时候， 这个项目组暂时就是一个项目，我主要做的就是资产分类某块。  新疆油田的项目。 
>
>项目背景主要就是根据集团和二级平台给定上传的数据  进行 监控风险、资产漏洞、安全警告等 。 在前台进行展示。
>
>
>
>第一阶段：主要针对 数据源Kakfa 做数据清洗。
>
>1. kafka中的数据 根据json中的字段id 进行入队列操作   队列在这里我们是使用的阻塞队列 可以自定以队列个数和长度 
>2. `while true`  根据几个队列开几个线程来分别处理队列里边的内容。  这种就是类似于生产者和消费者模型 
>3. 其次根据给定的关联规则（需要进行web请求） 判断给定的资产信息是否安全  如果不安全进行告警日志
>4. 如果资产信息是安全的 我们分别对应  入库操作  缓存操作 和入kafka操作。
>
>------------
>
>但是在上述 就是存在一个问题就是     `while true` 死循环 浪费`cpu`性能。我们采用redis 队列操作也是存在当下问题，后续采用采用redis stream 阻塞式读取。
>
>https://www.zhihu.com/question/20795043    这篇知乎只要就是对队列操作的处理呗 
>
>-----------------
>
>imas 2.1版本 需要我们加入大数据的部分。  在这里分配给我的任务主要采用 flink 来做流式处理。  在这里我们主要的工作内容就是：
>
>1. 搭建flink平台 
>2. flink对数据源Kakfa做算子 数据清洗操作   并下沉至kakfa 
>3. flink 监控性能 指标。   jvm堆内存 Task 或者算子每秒接收的记录数。
>4. 再次重kafka 获取数据 进行数据再次清理加功。
>
>-----------
>
>问题：如何保证kakfa消费的幂等性  针对次项目  



## 困难点

>1. 在 此项目当中 就是在Flink java应用程序的层面上 Flink获取数据源消费一切正常  但是在提交到Flink集群上 就是会报出错误。 `Timeout of 60000ms expired before the position for partition`    报错原因是flink 读取 kafka数据源的时候 访问不到此topic上的某一分区。 
>
>
>
>之后就是进行排查： 原因指定是kakfa分区 或者就是flink 这里边出现问题  百度谷歌 给出的答案是 
>
>Flink在读取数据源的并行度 应该是跟kafka分区数量一致  然后在重新该程序 进行提交 发现还是报错。 随后就是检查代码看是否哪里出现错误。
>
>依然还是没有解决问题。 因为在公司里边只有我一个人在搞flink。 所以当时就是毫无头绪。  所以还是检查程序 查看报错原因， 如果是程序没有问题 那么问题就是出现在kafka上。 所以我又重新检查kafka。
>
>最后我通过
>
>```java
>KafkaConsumer kafkaConsumer = new KafkaConsumer(properties);
>
>List<PartitionInfo> partitions= kafkaConsumer.partitionsFor("flink_uv");
>// kafka分区描述器
>public class PartitionInfo {
>   private final String topic;
>   private final int partition;
>   private final Node leader;
>   private final Node[] replicas;
>   private final Node[] inSyncReplicas;
>   private final Node[] offlineReplicas;
>}
>```
>
>获取kafka集群的分区情况partitions， 在这里面确实是3个分区，但是 flink_uv 0号分区的leader为null；并且irs（inSyncReplicas）也为null；
>我又去zk上查看zk的kafka注册节点，/brokers/ids/下只有[1, 3]（应该是[1, 2, 3]），看来是2号机器的Kafka宕机了，我随即重启了2号机器的Kafka机器，Flink报错消失；
>
>问题复盘：
>我的topic “flink_uv” 是3个分区，但是只有1个副本，如果这时候Leader宕机的话，那就无副本可以充当Leader了，无法提供服务；这也是为什么多副本是高可用的原因吧；
>
>------



## Flink Kakfa作为数据源宕机

>后续为了测量 Flink在消费kakfa数据源的时候吞吐量  Flink每秒处理多少kafka数据源  以及在Flink sink到kakfa里边的吞吐量。 打入kakfka数据源有90多万条。 之后进行测试。
>
>但是在程序启动起来 kafka在启动几秒后出现宕机的问题。 也是排查了好长时间  最后是发现 kafka 其中的一个 log.dirs数据日志满了 。 随后进行删除该区上的日志 再次进行启动 程序才得以正常运行。
>
>----
>
>查看Kafka日志发现报jre内存满的问题。最后发现是程序运行过程中产生的topic一直没有删除，导致内存满，进而Kafka崩溃。



















# HR



## 面试自我介绍

>您好面试官，我叫李冬辉，目前硕士是就读于东北大学控制工程专业，在`2022`年`6`月份毕业，在读期间主要研究方向是智能优化与数据解析方面。也是因为个人爱好以及所里项目需要，目前就是主要专注于后端开发，跟随自己的导师做了一个关于湛江原料厂的项目，以及自己做了一个关于java中spring源码的项目。
>
>在面试贵公司之前：因为跟学校跟华为有过项目合作的关系，所以通过张志宇师兄对贵公司有一定的了解，`Cloud BU`部门是面向企业提供人工智能解决方案的部门，跟自己的项目经历也是非常相似。所以非常希望进入贵公司进行实习。
>
>-----
>
>本科期间： 参加过辽宁省举办的飞思卡尔 智能小车循迹的比赛。  并取得省二等奖的成绩。
>
>研究生期间： 主要跟随导师做项目， 需要出差进行现场调研，根据现场情况工作内容进行总结，编写相应的逻辑代码 进行系统开发。
>
>​						参加过校篮球比赛，我是后卫 并取得了最后总冠军。
>
>实习期间：  



## 职业规划

>**1. 自我认知。**你对自己是否了解？了解得足够充分靠谱吗?
>
>**2. 动机和价值观。**你是否能接受“我们并不一定能给你公平的职业发展机会”这个现实？
>
>**3. 组织承诺。**你到底能在我们这儿踏实干几年？
>
>-----
>
>**回答示例：**
>
>首先我刚重学校毕业，我的兴趣就是在互联网上，目前技能掌握还不够全面，如果我踏上例如像 `BAT 美团 字节 阿里` 这么大的平台，能够向周围优秀的同事们学习，学习`BAT `的文化，通过追赶他们，希望可以稳定提升，持续学到更多的知识。让自己成为一个更加职业化、专业化的职业人。后续可以在XXX行业/XXX岗位独当一面，独立负责XXXX事务,解决XXXX问题。”
>
>所以我会在接下来的三年里，让自己从他们身上学到更多，扎根企业，在业务上做出更多的成绩，让自己在专业领域更有影响力。更了解这个行业之后，我也会有针对性的改变自己的学习计划，使自己更加适应这个行业，朝着行业的大方向去发展。
>
>“谈到远期规划，我会根据环境的变化，工作内容的变化，以及我自身能力的变化，不断进行调整的。对于职业规划，我暂时的考虑是这样子的。谢谢！”
>
>**如果HR追问，那职位上你就没有什么预期吗？**
>
>这个当然指定有  当能力、水平够了 我相信必然会得到组织和领导的赏识，一切都是水到渠成的。在职之前，我觉得更应该考虑的是如何扎根在这，成长起来，承担起自己的职责，让自己更有影响力。



## 最大的优点 和 最大的缺点

>- **最大的优点是什么 怎么展现出来了 通过什么例子**
>
>勇气、沟通、抗压、学习能力、适应环境能力。都还是比较OK的
>
>----
>
>- **最大的缺点是什么  怎么改善的 通过哪些方式进行提升**
>
>**我从小在父母的保护下长大太缺乏生活经验了**   完美这个缺点  
>
>我有一个**和工作关联不大**的缺点，但是我**意识到**了，已经在**改善**了。我的英语书面翻译是过关的，但口语不够好。所以我现在已经报名参加了一个英语口语的培训班，希望能尽快弥补这方面的差距。
>
>我的优点就是非常有理性的人，在很多时候一片混乱的时候我能迅速的整理出头绪，能够去梳理出方案。但同时呢 因为我比较理性 也希望先整理出方案再去探讨后续的计划。如果说没有方案的情况下，我们共同头脑风暴的时候，在这个时候我很难去提出一些观点和想法。这个也是我现在慢慢在女里改进的一个点，因为有时候只有打破规则才能有一些创新性的想法和点子出现。但我相信我这种有组织的逻辑整理能力能够帮助团队去更好的达成目标。同时我处理复杂问题的逻辑和能力也能够影响到我的同事。



## 薪资方面

>**薪资这块，贵司肯定有贵司的一套标准流程和内在考虑。我的过往和目标的表现以及薪资预期都在简历和面试体现了。我相信贵司一定对会给我一份让我满意的薪资。**
>
>公司的薪资结构是怎么样的？就是我想知道我目前面试的等级达到sp的等级了么
>
>1. 每个月的工资构成（底薪+绩效+餐补+交通补）
>2. 12个月的基本薪资+季度奖金+年终奖
>3. 五险一金
>4. 涨薪机制



## 能否接受加班？

>**对于毕业生的我来说，说实话很多东西都不是很懂，经验不是很丰富，最大的优点就是踏实学习，哪怕不是那么聪明，多做几遍，用心一些就没问题。而且在自己责任范围内的工作，不能算加班**



## 你拿到了几个offer

>我目前手上有2个offer，但是我更倾向于咱们公司的岗位，不管是发展前景还是岗位方向，咱们公司都是我最理想的选择。



## 你是应届毕业生，缺乏经验，如何胜任这项工作？

>作为应届毕业生，经验不是很丰富。但你有较强的责任心、适应能力和学习能力，且在之前的实习经历中积累了一些经验，相信可以胜任这份工作。



## 你希望通过这份工作获得什么

>对我来说，最重要的是自己所做的工作是否适合我，这份工作能否发挥我的专长，可能这会给我带来一种满足感，从而我希望我所做的工作对我目前的技术水平来形成挑战。从而促使我提升自己，因为我还年轻吗，就应该有年轻的样子。



## 短期目标和长期目标

>短期目前：就是我想以半年我一个季度来提升自己，回顾自己的发展，然后做出必要的修改
>
>长期目标：我想找



## 你希望与什么样的上级共事？

>首先能作为上级，指定会有他的过人之处。在这里作为职场新人，理应尽快熟悉环境、适应工作，而不应该对环境提要求。只要能发挥能力，做好工作即可。





## 你还有什么问题想要问我的么

>1. 如果能成功应聘这个岗位，我应该提前做些什么准备,因为到毕业还有一段时间，我还有提升能力的时间。
>2. 对于我这样的职场新人，如果想要深耕这个领域，您有什么建议给我么？
>3. 如果职位出色业绩的员工，将有什么发展机会？大约多长时间能实现。
>4. **假如我入职了，贵公司有什么针对我的培训方案么？有中期和长期的培训计划么。**
>5. 我们公司遇到的最大困哪和挑战是什么
>6. 您认为在企业文化当中，那一条是更重要一些呢
>7. 有没有到其他岗位 轮岗学习的机会
>8. 如果工作出色，大约多长时间能够晋升一次。
>9. 部门的组织架构以及该岗位之后的主要工作内容
>
>-----
>
>之前呢 我确实有问题想提，但是刚才跟您沟通交流过后，你已经完全的解答了我的异或



## 实习期间最大的收货

>做事的态度。汇报PPT。突然重学生到上班，有的时候很多思想还没有转变过来。例如说程序员就该大部分时间写代码，但是在上班的时候，大部分时间是在沟通业务，前期准备工作充分 才可以如愿的推进项目。 我在华为编写 `Swagger`设计接口文档，以及设计方案。都为后续工程的启动、复盘、重构有了一定的保障。以及每天的日报和周报 都需要详细写出来今天完成的任务，以及明日计划，潜在的威胁。 有细节和计划的安排 让我在做每件事之间都会养成习惯来提前准备，考虑到各种情况和、因素。 以及在面对紧急任务，需要在期限时间内完成来给客户或者领导展示，也锻炼了我的抗压能力。 所以认为有几点给我带来收货，就是未雨绸缪的提前准备以及细心编写文档和抗压能力 都让我受益匪浅。



>
